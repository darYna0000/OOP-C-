#include <iostream>
#include <cmath>
#include <stdexcept> // work with exceptions

using namespace std;

class Circle {
private:
    double radius;

public:
    // Constructors
    Circle() : radius(0) {}

    Circle(double r) {
        setRadius(r);
    }

// setter z vuinatkamu 
    void setRadius(double r) {
        if (r < 0) {
            throw invalid_argument("Радіус не може бути від'ємним");
        }
        radius = r;
    }

    // metod ne zminye object
    double getRadius() const {
        return radius;
    }

    // metod rozrahunku ploshchi
    double area() const {
        return M_PI * radius * radius;
    }

    // metod rozrahunku dovzhini kola
    double circumference() const {
        return 2 * M_PI * radius;
    }

    // Перевантажені методи розрахунку площі(metod area)
    double area(double r) const {
        if (r < 0) {
            throw invalid_argument("Радіус для розрахунку площі не може бути від'ємним");
        }
        return M_PI * r * r;
    }

    // Перевантажені методи виведення
    void display() const {
        cout << *this;
    }

    void display(ostream& out) const {
        out << *this;
    }

    // потокові оператори
    friend istream& operator>>(istream& in, Circle& circle);
    friend ostream& operator<<(ostream& out, const Circle& circle);
};

// Перевантажена операція введення
istream& operator>>(istream& in, Circle& circle) {
    double r;
    in >> r;
    circle.setRadius(r);
    return in;
}

// Перевантажена операція виведення
ostream& operator<<(ostream& out, const Circle& circle) {
    out << "Коло:\n";
    out << "  Радіус: " << circle.radius << endl;
    out << "  Площа: " << circle.area() << endl;
    out << "  Довжина кола: " << circle.circumference() << endl;
    return out;
}

int main() {
    try {
        Circle c1;
        
        cout << "Введіть радіус кола: ";
        cin >> c1;
        
        cout << c1;

        cout << "Радіус успішно встановлено"<<endl;
        
        // Демонстрація перевантажених методів
        cout << "\nПеревантажені методи:\n";
        c1.display();
        cout << "Площа для радіуса 5: " << c1.area(5) << endl;
        
        // sproba -5 = R
        Circle c2(-5);
    }
    // e.what() metod otrumania pomulok
    catch (const invalid_argument& e) {
        cerr << "Помилка: " << e.what() << endl;
    }
    catch (...) {
        cerr << "Невідома помилка!" << endl;
    }

    return 0;
}
