#include <iostream>
#include <vector>
#include <algorithm>
#include <limits>

using namespace std;
using TwoDimArray = vector<vector<int> >;

// Functions inputs
void input_array(TwoDimArray& arr, int rows, int cols) {
    arr.resize(rows);
    cout << "Введіть елементи масиву (" << rows << " рядків, " << cols << " стовпців):" << endl;

    for (int i = 0; i < rows; ++i) {
        arr[i].resize(cols);
        cout << "Рядок " << i + 1 << ":" << endl;

        for (int j = 0; j < cols; ++j) {
            cout << "Елемент [" << i << "][" << j << "]: ";
            cin >> arr[i][j];
        }
    }
}

//Functions outputs
void print_array(const TwoDimArray& arr) {
    // Check empty array
    if (arr.empty() || (arr.size() > 0 && arr[0].empty())) {
        cout << "Масив порожній." << endl;
        return;
    }

    cout << "\nЗгенерований двовимірний масив:" << endl;

    for (const auto& row : arr) { // Iterasia po radkah
        for (int element : row) { // Iterasia po elementah v vektore
            cout << element << "\t";
        }
        cout << endl;
    }
}

// 3 Function for find max element
// numeric_limits for start value
int find_max(const TwoDimArray& arr) {
    if (arr.empty() || (arr.size() > 0 && arr[0].empty())) {
        // array is empty? return minimal possible int value
        return numeric_limits<int>::min();
    }

    // max_val as a first element
    int max_val = arr[0][0];

    for (const auto& row : arr) {
        // Check if the row is not empty
        if (!row.empty()) {
            //max_element for search max in current row
            max_val = max(max_val, *max_element(row.begin(), row.end()));
        }
    }

    return max_val;
}

// for searching min element
int find_min(const TwoDimArray& arr) {
    if (arr.empty() || (arr.size() > 0 && arr[0].empty())) {
        return numeric_limits<int>::max();
    }

    int min_val = arr[0][0];

    for (const auto& row : arr) {
        if (!row.empty()) {
            min_val = min(min_val, *min_element(row.begin(), row.end()));
        }
    }
    return min_val;
}

int main() {
    int rows, cols;

    cout << "Введіть кількість рядків: ";
    cin >> rows;
    cout << "Введіть кількість стовпців: ";
    cin >> cols;

    // Check for valid input
    if (rows <= 0 || cols <= 0) {
        cerr << "Помилка: Кількість рядків та стовпців має бути більшою за 0." << endl;
        return 1;
    }

    // Make 2D array
    TwoDimArray matrix;

    // 1. Outpur array
    input_array(matrix, rows, cols);

    // 2. Виведення масиву
    print_array(matrix);

    // 3. Search max element and output 
    int max_element = find_max(matrix);
    cout << "\nМаксимальний елемент: " << max_element << endl;

    // 4. Search min element and output
    int min_element = find_min(matrix);
    cout << "Мінімальний елемент: " << min_element << endl;

    return 0;
}
